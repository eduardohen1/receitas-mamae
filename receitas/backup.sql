-- H2 2.2.224;
;             
CREATE USER IF NOT EXISTS "SA" SALT '3599285c8f8ae43a' HASH 'd24faaabbabb2a3f6f8dd4c3ce588560883dbca550445ca07ba2f9ecd17f1168' ADMIN;         
CREATE MEMORY TABLE "PUBLIC"."INGREDIENTES"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 6) NOT NULL,
    "NOME" CHARACTER VARYING(255) NOT NULL,
    "QUANTIDADE" CHARACTER VARYING(255) NOT NULL,
    "UNIDADE_MEDIDA" CHARACTER VARYING(255) NOT NULL
);               
ALTER TABLE "PUBLIC"."INGREDIENTES" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_5" PRIMARY KEY("ID"); 
-- 5 +/- SELECT COUNT(*) FROM PUBLIC.INGREDIENTES;            
INSERT INTO "PUBLIC"."INGREDIENTES" VALUES
(1, 'Farinha de trigo', '2', U&'X\00edcaras'),
(2, 'Ovos', '2', 'Unidade'),
(3, 'Leite', '1', U&'X\00edcara'),
(4, 'Fermento', '1', 'Colher'),
(5, U&'Queijo parmes\00e3o ralado', '100', 'Gramas');          
CREATE MEMORY TABLE "PUBLIC"."MODO_PREPARO"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 3) NOT NULL,
    "DESCRICAO" CHARACTER VARYING(255) NOT NULL,
    "ORDEM" INTEGER NOT NULL
);     
ALTER TABLE "PUBLIC"."MODO_PREPARO" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8" PRIMARY KEY("ID"); 
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.MODO_PREPARO;            
INSERT INTO "PUBLIC"."MODO_PREPARO" VALUES
(1, U&'Esquente o leite, mas n\00e3o levante fervura', 1),
(2, U&'Misture todos os ingredientes at\00e9 ficar uma massa homog\00eanea', 2);      
CREATE MEMORY TABLE "PUBLIC"."RECEITAS"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 2) NOT NULL,
    "OBSERVACOES" CHARACTER VARYING(255),
    "RENDIMENTO" CHARACTER VARYING(255),
    "TEMPO_PREPARO" CHARACTER VARYING(255),
    "TIPO_RECEITA" TINYINT NOT NULL,
    "TITULO" CHARACTER VARYING(255) NOT NULL
);   
ALTER TABLE "PUBLIC"."RECEITAS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_FE" PRIMARY KEY("ID");    
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.RECEITAS;
INSERT INTO "PUBLIC"."RECEITAS" VALUES
(1, U&'Fritar em \00f3leo quente', '30 unidades', '30 min', 1, 'Bolinho de chuva salgado');           
CREATE MEMORY TABLE "PUBLIC"."RECEITAS_INGREDIENTES"(
    "RECEITAS_ID" BIGINT NOT NULL,
    "INGREDIENTES_ID" BIGINT NOT NULL
);          
-- 5 +/- SELECT COUNT(*) FROM PUBLIC.RECEITAS_INGREDIENTES;   
INSERT INTO "PUBLIC"."RECEITAS_INGREDIENTES" VALUES
(1, 1),
(1, 2),
(1, 3),
(1, 4),
(1, 5);              
CREATE MEMORY TABLE "PUBLIC"."RECEITAS_MODO_PREPARO"(
    "RECEITAS_ID" BIGINT NOT NULL,
    "MODO_PREPARO_ID" BIGINT NOT NULL
);          
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.RECEITAS_MODO_PREPARO;   
INSERT INTO "PUBLIC"."RECEITAS_MODO_PREPARO" VALUES
(1, 1),
(1, 2);         
ALTER TABLE "PUBLIC"."RECEITAS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_F" CHECK("TIPO_RECEITA" BETWEEN 0 AND 3) NOCHECK;         
ALTER TABLE "PUBLIC"."RECEITAS_INGREDIENTES" ADD CONSTRAINT "PUBLIC"."FKOKIKKX1OOHE9GOARJLF0IJAO3" FOREIGN KEY("RECEITAS_ID") REFERENCES "PUBLIC"."RECEITAS"("ID") NOCHECK;   
ALTER TABLE "PUBLIC"."RECEITAS_MODO_PREPARO" ADD CONSTRAINT "PUBLIC"."FKR1K1PD30B8AAYILHKQM9537WR" FOREIGN KEY("MODO_PREPARO_ID") REFERENCES "PUBLIC"."MODO_PREPARO"("ID") NOCHECK;           
ALTER TABLE "PUBLIC"."RECEITAS_MODO_PREPARO" ADD CONSTRAINT "PUBLIC"."FKLBFL8EUKJW15P02GJRO1BW072" FOREIGN KEY("RECEITAS_ID") REFERENCES "PUBLIC"."RECEITAS"("ID") NOCHECK;   
ALTER TABLE "PUBLIC"."RECEITAS_INGREDIENTES" ADD CONSTRAINT "PUBLIC"."FK56YIHX8ORO0YHV7RGPP33YR3L" FOREIGN KEY("INGREDIENTES_ID") REFERENCES "PUBLIC"."INGREDIENTES"("ID") NOCHECK;           
